---
import WindbnbLayout from "../../layouts/WindbnbLayout.astro";
import ViviendaComponent from "../../components/ViviendaComponent.astro";

import { ViviendaApi } from "../../api/A2viviendasREST/apis";

import {
  Configuration as ViviendaConfiguration,
  Vivienda,
} from "../../api/A2viviendasREST"

import AppConfig from "../../config";

const viviendaApi = new ViviendaApi(new ViviendaConfiguration(AppConfig.viviendas));
const viviendas = await viviendaApi.getViviendas();

---

<meta name="viewport" content="width=device-width, initial-scale=1.0">

<WindbnbLayout title="Viviendas" page={"HOME"}>
  <div class="row">
    <h1>Filters</h1>
    <aside class="col-md-12 col-lg-2">
      <form>
        <div class="mb-3">
          <label class="form-check-label">Search by</label>
          <input
            type="text"
            name="nombreVivienda"
            value=""
            class="form-control"
          />
    </div>
    <button type="submit" class="btn btn-primary">Filter</button>
  </form>
  </aside>
  </div>

  {
    viviendas.map(vivienda=> <ViviendaComponent vivienda = {vivienda} />)
  }

</WindbnbLayout>
