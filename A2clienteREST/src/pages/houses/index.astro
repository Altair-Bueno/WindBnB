---
import WindbnbLayout from "../../layouts/WindbnbLayout.astro";
import ViviendaComponent from "../../components/ViviendaComponent.astro";

import { ViviendaApi } from "../../api/A2viviendasREST/apis";

import {
  Configuration as ViviendaConfiguration,
  Vivienda,
} from "../../api/A2viviendasREST"

import AppConfig from "../../config";

const viviendaApi = new ViviendaApi(new ViviendaConfiguration(AppConfig.viviendas));
const viviendas = await viviendaApi.getViviendas()

---

<WindbnbLayout title="Viviendas">

  <div class="row">
    <h1>Filtros</h1>
    <aside class="col-md-1 col-lg-2">
      <form>
        <div class="mb-3">
          <label class="form-check-label">Buscar por t√≠tulo de la vivienda</label>
          <input
            type="text"
            name="nombreVivienda"
            value=""
            class="form-control"
          />
    </div>
  </form>
  </aside>
  </div>

  {
    viviendas.map(vivienda=> <ViviendaComponent vivienda = {vivienda} />)
    }

</WindbnbLayout>
