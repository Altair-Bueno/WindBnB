{"openapi":"3.0.2","info":{"title":"A2viviendasREST","description":"GestiÃ³n de viviendas. IngenierÃ­a web","version":"0.1.0"},"paths":{"/viviendas":{"get":{"tags":["Vivienda"],"summary":"Get Viviendas","operationId":"getViviendas","parameters":[{"required":false,"schema":{"title":"Title","type":"string"},"name":"title","in":"query"},{"required":false,"schema":{"title":"Pricemax","exclusiveMinimum":0.0,"type":"number"},"name":"priceMax","in":"query"},{"required":false,"schema":{"title":"Pricemin","exclusiveMinimum":0.0,"type":"number"},"name":"priceMin","in":"query"}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"title":"Response Getviviendas","type":"array","items":{"$ref":"#/components/schemas/Vivienda"}}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"post":{"tags":["Vivienda"],"summary":"Create House","description":"Creates a new house","operationId":"new_house","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/NewVivienda"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Vivienda"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}},"security":[{"HTTPBearer":[]}]}},"/viviendas/{idCasa}":{"get":{"tags":["Vivienda"],"summary":"Get House By Id","operationId":"get_house_by_id","parameters":[{"required":true,"schema":{"title":"Idcasa","type":"string"},"name":"idCasa","in":"path"}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Vivienda"}}}},"404":{"description":"Not Found","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ApiError"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"put":{"tags":["Vivienda"],"summary":"Update House","operationId":"update_house","parameters":[{"required":true,"schema":{"title":"Idcasa","type":"string"},"name":"idCasa","in":"path"}],"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/EditVivienda"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Vivienda"}}}},"404":{"description":"Not Found","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ApiError"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}},"security":[{"HTTPBearer":[]}]},"delete":{"tags":["Vivienda"],"summary":"Delete House","description":"Cancels the house identified by the given `idCasa`","operationId":"delete house","parameters":[{"required":true,"schema":{"title":"Idcasa","type":"string"},"name":"idCasa","in":"path"}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Message"}}}},"404":{"description":"Not Found","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ApiError"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}},"security":[{"HTTPBearer":[]}]}},"/{idCasa}/valoraciones":{"get":{"tags":["Vivienda"],"summary":"Get Valoraciones","description":"Get all valorations of a house","operationId":"get_valoraciones","parameters":[{"required":true,"schema":{"title":"Idcasa","type":"string"},"name":"idCasa","in":"path"}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"title":"Response Get Valoraciones","type":"array","items":{"$ref":"#/components/schemas/Valoracion"}}}}},"404":{"description":"Not Found","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ApiError"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"post":{"tags":["Vivienda"],"summary":"Create Valoracion","description":"Creates a new valoration","operationId":"new_valoracion","parameters":[{"required":true,"schema":{"title":"Idcasa","type":"string"},"name":"idCasa","in":"path"}],"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/NewValoracion"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Valoracion"}}}},"404":{"description":"Not Found","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ApiError"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}},"security":[{"HTTPBearer":[]}]}},"/valoraciones/{idValoracion}":{"delete":{"tags":["Vivienda"],"summary":"Delete Valoracion","description":"Deletes a valoration","operationId":"delete_valoracion","parameters":[{"required":true,"schema":{"title":"Idvaloracion","type":"string"},"name":"idValoracion","in":"path"}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Message"}}}},"404":{"description":"Not Found","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ApiError"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}},"security":[{"HTTPBearer":[]}]}},"/viviendas/{idCasa}/getBookingsAmount":{"get":{"tags":["Vivienda"],"summary":"Get House Amount Bookings","description":"Gives you the amount of bookings of a house","operationId":"bookings amount","parameters":[{"required":true,"schema":{"title":"Idcasa","type":"string"},"name":"idCasa","in":"path"}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Message"}}}},"404":{"description":"Not Found","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ApiError"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}},"security":[{"HTTPBearer":[]}]}}},"components":{"schemas":{"ApiError":{"title":"ApiError","required":["detail"],"type":"object","properties":{"detail":{"title":"Detail","type":"string"}},"description":"An error response"},"EditVivienda":{"title":"EditVivienda","type":"object","properties":{"title":{"title":"Title","type":"string"},"description":{"title":"Description","type":"string"},"user_id":{"title":"User Id","type":"string"},"location":{"title":"Location","type":"string"},"url_photo":{"title":"Url Photo","type":"array","items":{"type":"string"}},"longitude":{"title":"Longitude","type":"string"},"latitude":{"title":"Latitude","type":"string"},"price":{"title":"Price","exclusiveMinimum":0.0,"type":"number"}}},"HTTPValidationError":{"title":"HTTPValidationError","type":"object","properties":{"detail":{"title":"Detail","type":"array","items":{"$ref":"#/components/schemas/ValidationError"}}}},"Message":{"title":"Message","required":["message"],"type":"object","properties":{"message":{"title":"Message","type":"string"}},"description":"A single message payload"},"NewValoracion":{"title":"NewValoracion","required":["user_id","valoracion","comentario"],"type":"object","properties":{"user_id":{"title":"User Id","type":"string"},"valoracion":{"title":"Valoracion","type":"integer"},"comentario":{"title":"Comentario","type":"string"}}},"NewVivienda":{"title":"NewVivienda","required":["title","user_id","location","longitude","latitude","price"],"type":"object","properties":{"title":{"title":"Title","type":"string"},"description":{"title":"Description","type":"string"},"user_id":{"title":"User Id","type":"string"},"location":{"title":"Location","type":"string"},"url_photo":{"title":"Url Photo","type":"array","items":{"type":"string"}},"longitude":{"title":"Longitude","type":"string"},"latitude":{"title":"Latitude","type":"string"},"price":{"title":"Price","exclusiveMinimum":0.0,"type":"number"}}},"ValidationError":{"title":"ValidationError","required":["loc","msg","type"],"type":"object","properties":{"loc":{"title":"Location","type":"array","items":{"anyOf":[{"type":"string"},{"type":"integer"}]}},"msg":{"title":"Message","type":"string"},"type":{"title":"Error Type","type":"string"}}},"Valoracion":{"title":"Valoracion","required":["vivienda_id","user_id","valoracion","comentario"],"type":"object","properties":{"_id":{"title":" Id","type":"string"},"vivienda_id":{"title":"Vivienda Id","type":"string"},"user_id":{"title":"User Id","type":"string"},"state":{"allOf":[{"$ref":"#/components/schemas/valoracionStateEnum"}],"default":"available"},"valoracion":{"title":"Valoracion","type":"integer"},"comentario":{"title":"Comentario","type":"string"}}},"Vivienda":{"title":"Vivienda","required":["title","user_id","location","longitude","latitude","price"],"type":"object","properties":{"_id":{"title":" Id","type":"string"},"title":{"title":"Title","type":"string"},"description":{"title":"Description","type":"string"},"user_id":{"title":"User Id","type":"string"},"location":{"title":"Location","type":"string"},"state":{"allOf":[{"$ref":"#/components/schemas/viviendaStateEnum"}],"default":"available"},"url_photo":{"title":"Url Photo","type":"array","items":{"type":"string"}},"longitude":{"title":"Longitude","type":"string"},"latitude":{"title":"Latitude","type":"string"},"price":{"title":"Price","exclusiveMinimum":0.0,"type":"number"}}},"valoracionStateEnum":{"title":"valoracionStateEnum","enum":["available","deleted"],"type":"string","description":"An enumeration."},"viviendaStateEnum":{"title":"viviendaStateEnum","enum":["available","deleted"],"type":"string","description":"An enumeration."}},"securitySchemes":{"HTTPBearer":{"type":"http","scheme":"bearer"}}},"servers":[{"url":"/","description":"Default"},{"url":"http://localhost:8002","description":"Docker compose"}]}